<html>
  <head>
    <title>RBA Exercise</title>
    <script type="text/javascript" lang="javascript" src="https://cdns.gigya.com/js/gigya.js?apikey=4_SFrjYn-IH2-dYqPtNgsnGg"></script>
  </head>
<body>
  <h1>RBA Exercise</h1>
  <h4>Register a user and then try to login with a wrong password 5 times</h4>
  <a href="#" onclick="gigya.accounts.showScreenSet({screenSet:'Default-RegistrationLogin', startScreen:'gigya-register-screen'});">Register</a>&nbsp;&nbsp;|&nbsp;&nbsp; 
  <a href="#" onclick="gigya.accounts.showScreenSet({screenSet:'Default-RegistrationLogin'});">Login</a>
  <span id="logout" hidden>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="#" onclick="logout();">Logout</a></span>

  <script type="text/javascript" lang="javascript"> 
    function logout() { 
			gigya.accounts.logout({callback:function (response) { 
				if (response.errorCode == 0) { 
					document.getElementByid("logout").hidden=true; 
				} else { 
					alert('Error:' + response.errorMessage); 
				} 
			}}); 
		} 
		// if there's a user logged in then shows the logout link 
		gigya.accounts.getAccountinfo({callback:function (response) { 
			if (response.errorCode == 0) { 
				document.getElementByid("logout").hidden=false; 
			} 
		}}); 
		// traps the login event to show the logout link 
		gigya.socialize.addEventHandlers({ onLogin: function () { 
			document.getElementByid("logout").hidden=false; 
		} });
  </script> 
  </body> 
</html>
